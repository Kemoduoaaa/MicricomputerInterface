;8255片选接IOY1
A_8255 EQU 0640H
B_8255 EQU 0642H
C_8255 EQU 0644H
CONTROL_8255 EQU 0646H

CODE SEGMENT
	ASSUME CS:CODE
START:
	MOV DX,CONTROL_8255
	MOV AL,90H
	OUT DX,AL
A:
	MOV DX,A_8255
	IN AL,DX
	AND AL,03H
	JZ BULIANG
	CMP AL,01H
	JZ LOWER
	CMP AL,02H
	JZ UPPER
	MOV AL,0FFH;全亮
	JMP SHOW
BULIANG:;全不亮
	MOV AL,00H
	JMP SHOW
LOWER:;低四个亮
	MOV AL,0FH
	JMP SHOW
UPPER:;高四个亮
	MOV AL,0F0H
SHOW:
	MOV DX,B_8255
	OUT DX,AL
	JMP A
	
	MOV AH,4CH
	INT 21H
CODE ENDS
	 END START


