;8255片选接IOY1
A_8255 EQU 0640H
B_8255 EQU 0642H
C_8255 EQU 0644H
CONTROL_8255 EQU 0646H

CODE SEGMENT
	ASSUME CS:CODE
START:
	MOV AL,90H;设置8255控制字，A输入B输出
	MOV DX,CONTROL_8255
	OUT DX,AL;送方式字
A:
	MOV DX,A_8255
	IN AL,DX;读A端口
	AND AL,01H
	JZ LOWER
	MOV AL,0F0H
	JMP UPPER
LOWER:
	MOV AL,0FH
UPPER:
	MOV DX,B_8255
	OUT DX,AL;送B端口
	JMP A
	
	MOV AH,4CH;返回
	INT 21H
CODE ENDS
	 END START

